{% load static %}
<!DOCTYPE html>
<html lang="zxx">
  <head>
    {% include 'accounts/sections/Head.html'%}

    <style>
      .pro-quantity input {
        background-color: rgb(214, 214, 214) !important;
        text-align: center !important;
        border: none;
        padding: 10px;
        font-size: 18px;
        font-weight: bolder;
        width: 6rem;
      }
    </style>
  </head>

  <body>
    <!-- Page Preloder -->
    <div id="preloder">
      <div class="loader"></div>
    </div>

    <!-- Humberger Begin -->
    {% include 'accounts/sections/HumbergerSection.html'%}

    <!-- Humberger End -->

    <!-- Header Section Begin -->
    {% include 'accounts/sections/HeaderSection.html'%}
    <!-- Header Section End -->

    <!-- Hero Section Begin -->
    {% include 'accounts/sections/HeroNoBannerSection.html'%}

    <!-- Hero Section End -->

    <!-- Breadcrumb Section Begin -->
    <section
      class="breadcrumb-section set-bg"
      data-setbg=" {% static 'img/breadcrumb.jpg'%}"
    >
      <div class="container">
        <div class="row">
          <div class="col-lg-12 text-center">
            <div class="breadcrumb__text">
              <h2>Shopping Cart</h2>
              <div class="breadcrumb__option">
                <a href="./index.html">Home</a>
                <span>Shopping Cart</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- Breadcrumb Section End -->

    <!-- Shoping Cart Section Begin -->
    {% include 'accounts/sections/ShopingCardtSections.html'%}

    <!-- Shoping Cart Section End -->

    <!-- Footer Section Begin -->
    {% include 'accounts/sections/FooterSection.html'%}
    <!-- Footer Section End -->

    <!-- Js Plugins -->
    {% include 'accounts/sections/JSplugins.html'%}
  </body>

  <script>
    $(document).ready(function () {
      // Function to update the total price for a product
      function updateProductTotal() {
        let grandTotal = 0;

        // Loop through each row in the cart
        $("tr").each(function () {
          var $row = $(this);
          var price = parseFloat($row.find(".quantity-input").data("price")); // Get the price from data attribute
          var quantity = parseInt($row.find(".quantity-input").val()); // Get the quantity entered
          var total = price * quantity;

          // Update the product total price in the row
          $row.find(".shoping__cart__total").text("$" + total.toFixed(2));

          // Add to the grand total
          grandTotal += total;
        });

        // Update the grand total display
        $("#grandTotal").text(grandTotal.toFixed(2));
      }

      // Trigger update when quantity is changed
      $(".quantity-input").on("input", function () {
        updateProductTotal();
      });

      // Initialize the total price calculation when the page loads
      updateProductTotal();
    });
  </script>
</html>
